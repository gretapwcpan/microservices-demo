/*! For license information please see react-components.js.LICENSE.txt */
(()=>{"use strict";var n={6:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,".shopping-input-container {\n  background: linear-gradient(145deg, #ffffff 0%, #f8f9ff 100%);\n  border: 2px solid transparent;\n  background-clip: padding-box;\n  border-radius: 20px;\n  padding: 2rem;\n  box-shadow: \n    0 10px 30px rgba(102, 126, 234, 0.1),\n    0 0 0 1px rgba(255, 255, 255, 0.2);\n  margin-bottom: 2.5rem;\n  position: relative;\n  overflow: hidden;\n}\n\n.shopping-input-container::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background: linear-gradient(90deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);\n  background-size: 300% 100%;\n  animation: gradientShift 3s ease infinite;\n}\n\n@keyframes gradientShift {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n\n.search-type-selector h5 {\n  color: #1f2937;\n  margin-bottom: 1rem;\n  font-weight: 600;\n}\n\n.search-type-buttons {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 1.5rem;\n  flex-wrap: wrap;\n}\n\n.search-type-btn {\n  padding: 0.75rem 1rem;\n  border: 2px solid #e5e7eb;\n  background: white;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n  font-weight: 500;\n}\n\n.search-type-btn:hover {\n  border-color: #3b82f6;\n  background: #f8fafc;\n}\n\n.search-type-btn.active {\n  background: #3b82f6;\n  color: white;\n  border-color: #3b82f6;\n}\n\n.prompt-section {\n  margin-bottom: 1.5rem;\n}\n\n.prompt-section label {\n  display: block;\n  font-weight: 500;\n  color: #374151;\n  margin-bottom: 0.5rem;\n}\n\n.prompt-input {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  font-size: 1rem;\n  resize: vertical;\n  font-family: inherit;\n}\n\n.prompt-input:focus {\n  outline: none;\n  border-color: #3b82f6;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.stores-section h6 {\n  color: #1f2937;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n}\n\n.stores-hint {\n  color: #6b7280;\n  font-size: 0.9rem;\n  margin-bottom: 1rem;\n}\n\n.popular-stores h7 {\n  display: block;\n  font-weight: 500;\n  color: #374151;\n  margin-bottom: 0.75rem;\n}\n\n.stores-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: 0.5rem;\n  margin-bottom: 1.5rem;\n}\n\n.store-btn {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.75rem 0.5rem;\n  border: 2px solid #e5e7eb;\n  background: white;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s;\n  text-decoration: none;\n}\n\n.store-btn:hover {\n  border-color: #3b82f6;\n  background: #f8fafc;\n}\n\n.store-btn.selected {\n  background: #dbeafe;\n  border-color: #3b82f6;\n  color: #1e40af;\n}\n\n.store-icon {\n  font-size: 1.25rem;\n  margin-bottom: 0.25rem;\n}\n\n.store-name {\n  font-size: 0.875rem;\n  font-weight: 500;\n  text-align: center;\n}\n\n.url-drop-zone {\n  border: 2px dashed #d1d5db;\n  border-radius: 8px;\n  padding: 1.5rem;\n  text-align: center;\n  transition: all 0.2s;\n  margin-bottom: 1rem;\n}\n\n.url-drop-zone:hover {\n  border-color: #3b82f6;\n  background: #f8fafc;\n}\n\n.drop-zone-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.drop-icon {\n  font-size: 2rem;\n  color: #9ca3af;\n}\n\n.drop-zone-content p {\n  color: #6b7280;\n  margin: 0;\n}\n\n.custom-stores {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  margin-top: 1rem;\n}\n\n.custom-store-item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 0.75rem;\n  background: #f3f4f6;\n  border-radius: 6px;\n  border: 1px solid #d1d5db;\n}\n\n.remove-store-btn {\n  background: none;\n  border: none;\n  color: #ef4444;\n  font-size: 1.25rem;\n  cursor: pointer;\n  line-height: 1;\n  padding: 0;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.remove-store-btn:hover {\n  color: #dc2626;\n}\n\n.search-action {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.5rem;\n  margin-top: 1.5rem;\n}\n\n.search-btn {\n  width: 100%;\n  padding: 1.25rem 2rem;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 16px;\n  font-size: 1.1rem;\n  font-weight: 700;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  position: relative;\n  overflow: hidden;\n}\n\n.search-btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n  transition: left 0.5s;\n}\n\n.search-btn:hover:not(:disabled) {\n  transform: translateY(-3px);\n  box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);\n}\n\n.search-btn:hover:not(:disabled)::before {\n  left: 100%;\n}\n\n.search-btn:disabled {\n  background: linear-gradient(135deg, #a0aec0 0%, #cbd5e0 100%);\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n.selected-count {\n  color: #6b7280;\n  font-size: 0.875rem;\n  margin: 0;\n}\n\n@media (max-width: 768px) {\n  .search-type-buttons {\n    flex-direction: column;\n  }\n  \n  .stores-grid {\n    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  }\n  \n  .custom-stores {\n    flex-direction: column;\n  }\n}",""]);const c=i},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],c=0;c<n.length;c++){var l=n[c],s=r.base?l[0]+r.base:l[0],u=a[s]||0,d="".concat(s," ").concat(u);a[s]=u+1;var m=t(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)e[m].references++,e[m].updater(p);else{var f=o(p,r);r.byIndex=c,e.splice(c,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var c=t(a[i]);e[c].references--}for(var l=r(n,o),s=0;s<a.length;s++){var u=t(a[s]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=l}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var s=0;s<n.length;s++){var u=[].concat(n[s]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},338:(n,e,t)=>{var r=t(795);e.H=r.createRoot,r.hydrateRoot},433:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,".results-loading {\n  text-align: center;\n  padding: 3rem 2rem;\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 12px;\n  margin: 2rem 0;\n}\n\n.loading-spinner {\n  margin-bottom: 1rem;\n}\n\n.spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid #f3f4f6;\n  border-top: 4px solid #3b82f6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.results-loading h5 {\n  color: #1f2937;\n  margin-bottom: 0.5rem;\n}\n\n.results-loading p {\n  color: #6b7280;\n  margin: 0;\n}\n\n.results-error {\n  text-align: center;\n  padding: 2rem;\n  background: #fef2f2;\n  border: 1px solid #fecaca;\n  border-radius: 12px;\n  margin: 2rem 0;\n}\n\n.error-icon {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n\n.results-error h5 {\n  color: #dc2626;\n  margin-bottom: 0.5rem;\n}\n\n.results-error p {\n  color: #991b1b;\n  margin-bottom: 1rem;\n}\n\n.retry-btn {\n  padding: 0.75rem 1.5rem;\n  background: #dc2626;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.retry-btn:hover {\n  background: #b91c1c;\n}\n\n.product-results {\n  background: white;\n  border: 1px solid #e5e7eb;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin: 2rem 0;\n}\n\n.results-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.results-summary h4 {\n  color: #1f2937;\n  margin-bottom: 0.5rem;\n}\n\n.results-summary p {\n  color: #6b7280;\n  margin: 0.25rem 0;\n  font-size: 0.9rem;\n}\n\n.search-query {\n  font-style: italic;\n  color: #3b82f6;\n}\n\n.results-controls {\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n\n.sort-controls, .filter-controls {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.sort-controls label, .filter-controls label {\n  font-weight: 500;\n  color: #374151;\n  font-size: 0.875rem;\n}\n\n.sort-controls select, .filter-controls select {\n  padding: 0.5rem;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  background: white;\n  font-size: 0.875rem;\n}\n\n.products-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.product-card {\n  border: 1px solid #e5e7eb;\n  border-radius: 12px;\n  overflow: hidden;\n  transition: all 0.2s;\n  background: white;\n}\n\n.product-card:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  transform: translateY(-2px);\n}\n\n.product-image {\n  position: relative;\n  height: 200px;\n  background: #f9fafb;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.product-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.no-image {\n  font-size: 3rem;\n  color: #9ca3af;\n}\n\n.confidence-badge {\n  position: absolute;\n  top: 0.5rem;\n  right: 0.5rem;\n  background: rgba(59, 130, 246, 0.9);\n  color: white;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n.product-info {\n  padding: 1rem;\n}\n\n.product-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 0.75rem;\n  gap: 0.5rem;\n}\n\n.product-name {\n  color: #1f2937;\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  line-height: 1.3;\n  flex: 1;\n}\n\n.store-badge {\n  background: #f3f4f6;\n  color: #374151;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  white-space: nowrap;\n}\n\n.product-price {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.5rem;\n  flex-wrap: wrap;\n}\n\n.current-price {\n  font-size: 1.25rem;\n  font-weight: 700;\n  color: #059669;\n}\n\n.original-price {\n  text-decoration: line-through;\n  color: #9ca3af;\n  font-size: 0.9rem;\n}\n\n.discount-badge {\n  background: #ef4444;\n  color: white;\n  padding: 0.125rem 0.375rem;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n.product-rating {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n}\n\n.stars {\n  color: #fbbf24;\n}\n\n.rating-text {\n  color: #6b7280;\n  font-size: 0.875rem;\n}\n\n.product-details {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  margin-bottom: 1rem;\n}\n\n.availability {\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n\n.availability.in-stock {\n  color: #059669;\n}\n\n.availability.out-stock {\n  color: #dc2626;\n}\n\n.shipping {\n  color: #6b7280;\n  font-size: 0.875rem;\n}\n\n.product-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.view-product-btn, .buy-now-btn {\n  padding: 0.75rem;\n  border-radius: 6px;\n  text-decoration: none;\n  text-align: center;\n  font-weight: 500;\n  transition: all 0.2s;\n  border: none;\n  cursor: pointer;\n}\n\n.view-product-btn {\n  background: #f3f4f6;\n  color: #374151;\n  border: 1px solid #d1d5db;\n}\n\n.view-product-btn:hover {\n  background: #e5e7eb;\n  color: #1f2937;\n}\n\n.buy-now-btn {\n  background: #3b82f6;\n  color: white;\n}\n\n.buy-now-btn:hover {\n  background: #2563eb;\n}\n\n.no-results {\n  text-align: center;\n  padding: 3rem 2rem;\n  color: #6b7280;\n}\n\n.no-results-icon {\n  font-size: 4rem;\n  margin-bottom: 1rem;\n  color: #9ca3af;\n}\n\n.no-results h5 {\n  color: #374151;\n  margin-bottom: 0.5rem;\n}\n\n.results-footer {\n  text-align: center;\n  margin-top: 2rem;\n  padding-top: 2rem;\n  border-top: 1px solid #e5e7eb;\n}\n\n.new-search-btn {\n  padding: 0.75rem 1.5rem;\n  background: #6b7280;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.new-search-btn:hover {\n  background: #4b5563;\n}\n\n@media (max-width: 768px) {\n  .results-header {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  \n  .results-controls {\n    flex-direction: column;\n  }\n  \n  .products-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .product-header {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  \n  .product-price {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n}",""]);const c=i},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},645:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,".photo-upload-container {\n  margin-bottom: 2.5rem;\n}\n\n.photo-upload-area {\n  border: 3px dashed #667eea;\n  border-radius: 20px;\n  padding: 2.5rem;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background: linear-gradient(145deg, #ffffff 0%, #f8f9ff 100%);\n  min-height: 220px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.photo-upload-area:hover {\n  border-color: #ff6b6b;\n  background: linear-gradient(145deg, #ffffff 0%, #fff1f1 100%);\n  transform: translateY(-2px);\n  box-shadow: 0 10px 25px rgba(102, 126, 234, 0.15);\n}\n\n.photo-upload-area.drag-over {\n  border-color: #10b981;\n  background: #ecfdf5;\n  transform: scale(1.02);\n}\n\n.photo-upload-area.uploading {\n  border-color: #f59e0b;\n  background: #fffbeb;\n}\n\n.upload-placeholder {\n  width: 100%;\n}\n\n.upload-icon {\n  font-size: 3rem;\n  margin-bottom: 1rem;\n}\n\n.upload-placeholder h3 {\n  margin: 0.5rem 0;\n  color: #1f2937;\n  font-weight: 600;\n}\n\n.upload-placeholder p {\n  color: #6b7280;\n  margin-bottom: 1.5rem;\n}\n\n.upload-btn {\n  background: #3b82f6;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background 0.2s;\n}\n\n.upload-btn:hover {\n  background: #2563eb;\n}\n\n.upload-hints {\n  margin-top: 1rem;\n}\n\n.upload-hints small {\n  color: #9ca3af;\n}\n\n.photo-preview {\n  position: relative;\n  width: 100%;\n  max-width: 400px;\n  margin: 0 auto;\n}\n\n.photo-preview img {\n  width: 100%;\n  height: auto;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n}\n\n.photo-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s;\n  border-radius: 8px;\n}\n\n.photo-preview:hover .photo-overlay {\n  opacity: 1;\n}\n\n.change-photo-btn {\n  background: #10b981;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n}\n\n.upload-spinner {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n}\n\n.spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid #f3f4f6;\n  border-top: 4px solid #3b82f6;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.photo-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  background: #f1f5f9;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  color: #64748b;\n}\n\n.photo-name {\n  flex: 1;\n  text-align: left;\n}\n\n.photo-size {\n  font-weight: 500;\n}\n\n/* Mobile responsiveness */\n@media (max-width: 640px) {\n  .photo-upload-area {\n    padding: 1.5rem;\n    min-height: 150px;\n  }\n  \n  .upload-icon {\n    font-size: 2.5rem;\n  }\n  \n  .upload-placeholder h3 {\n    font-size: 1.25rem;\n  }\n}",""]);const c=i},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},795:n=>{n.exports=window.ReactDOM},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;const r=window.React;var o=t.n(r),a=t(338),i=t(72),c=t.n(i),l=t(825),s=t.n(l),u=t(659),d=t.n(u),m=t(56),p=t.n(m),f=t(540),b=t.n(f),g=t(113),h=t.n(g),v=t(645),y={};function w(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return x(s,"_invoke",function(t,r,o){var a,c,l,s=0,u=o||[],d=!1,m={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,c=0,l=n,m.n=t,i}};function p(t,r){for(c=t,l=r,e=0;!d&&s&&!o&&e<u.length;e++){var o,a=u[e],p=m.p,f=a[2];t>3?(o=f===r)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=p&&((o=t<2&&p<a[1])?(c=0,m.v=r,m.n=a[1]):p<f&&(o=t<3||a[0]>r||r>f)&&(a[4]=t,a[5]=r,m.n=f,c=0))}if(o||t>1)return i;throw d=!0,r}return function(o,u,f){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,l=f;(e=c<2?n:l)||!d;){a||(c?c<3?(c>1&&(m.n=-1),p(c,l)):m.n=l:m.v=l);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((e=(d=m.n<0)?l:t.call(r,m))!==i)break}catch(e){a=n,c=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,o,a),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(x(e={},r,function(){return this}),e),d=s.prototype=c.prototype=Object.create(u);function m(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,x(n,o,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,x(d,"constructor",s),x(s,"constructor",l),l.displayName="GeneratorFunction",x(s,o,"GeneratorFunction"),x(d),x(d,o,"Generator"),x(d,r,function(){return this}),x(d,"toString",function(){return"[object Generator]"}),(w=function(){return{w:a,m}})()}function x(n,e,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}x=function(n,e,t,r){function a(e,t){x(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(a("next",0),a("throw",1),a("return",2))},x(n,e,t,r)}function E(n,e,t,r,o,a,i){try{var c=n[a](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,o)}function N(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,i,c=[],l=!0,s=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,o=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return k(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}y.styleTagTransform=h(),y.setAttributes=p(),y.insert=d().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=b(),c()(v.A,y),v.A&&v.A.locals&&v.A.locals;const S=function(n){var e=n.onPhotoSelect,t=n.currentPhoto,a=N((0,r.useState)(!1),2),i=a[0],c=a[1],l=N((0,r.useState)(!1),2),s=l[0],u=l[1],d=(0,r.useRef)(null),m=function(){var n,t=(n=w().m(function n(t){var r;return w().w(function(n){for(;;)switch(n.n){case 0:if(t.type.startsWith("image/")){n.n=1;break}return alert("Please select an image file"),n.a(2);case 1:if(!(t.size>5242880)){n.n=2;break}return alert("Image must be smaller than 5MB"),n.a(2);case 2:u(!0);try{(r=new FileReader).onload=function(n){var r=n.target.result.split(",")[1];e({file:t,base64:r,preview:n.target.result}),u(!1)},r.readAsDataURL(t)}catch(n){console.error("Error reading file:",n),u(!1),alert("Error reading file. Please try again.")}case 3:return n.a(2)}},n)}),function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(n){E(a,r,o,i,c,"next",n)}function c(n){E(a,r,o,i,c,"throw",n)}i(void 0)})});return function(n){return t.apply(this,arguments)}}(),p=function(){var n;null===(n=d.current)||void 0===n||n.click()};return o().createElement("div",{className:"photo-upload-container"},o().createElement("div",{className:"photo-upload-area ".concat(i?"drag-over":""," ").concat(s?"uploading":""),onDragOver:function(n){n.preventDefault(),c(!0)},onDragLeave:function(n){n.preventDefault(),c(!1)},onDrop:function(n){n.preventDefault(),c(!1);var e=n.dataTransfer.files;e.length>0&&m(e[0])},onClick:p},o().createElement("input",{ref:d,type:"file",accept:"image/*",onChange:function(n){var e=n.target.files[0];e&&m(e)},style:{display:"none"}}),s?o().createElement("div",{className:"upload-spinner"},o().createElement("div",{className:"spinner"}),o().createElement("p",null,"Processing image...")):t?o().createElement("div",{className:"photo-preview"},o().createElement("img",{src:t.preview,alt:"Your outfit"}),o().createElement("div",{className:"photo-overlay"},o().createElement("button",{className:"change-photo-btn",onClick:function(n){n.stopPropagation(),p()}},"ðŸ“· Change Photo"))):o().createElement("div",{className:"upload-placeholder"},o().createElement("div",{className:"upload-icon"},"ðŸ“·"),o().createElement("h3",null,"Upload Product Photo"),o().createElement("p",null,"Upload a photo of an item you want to find across different stores"),o().createElement("button",{className:"upload-btn"},"Choose Photo"),o().createElement("div",{className:"upload-hints"},o().createElement("small",null,"Supports JPG, PNG â€¢ Max 5MB")))),t&&o().createElement("div",{className:"photo-info"},o().createElement("span",{className:"photo-name"},"ðŸ“Ž ",t.file.name),o().createElement("span",{className:"photo-size"},(t.file.size/1024/1024).toFixed(1),"MB")))};var A=t(6),j={};function P(n){return function(n){if(Array.isArray(n))return C(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||z(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,i,c=[],l=!0,s=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,o=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(n,e)||z(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(n,e){if(n){if("string"==typeof n)return C(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(n,e):void 0}}function C(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}j.styleTagTransform=h(),j.setAttributes=p(),j.insert=d().bind(null,"head"),j.domAPI=s(),j.insertStyleElement=b(),c()(A.A,j),A.A&&A.A.locals&&A.A.locals;const I=function(n){var e=n.onSearchRequest,t=n.isLoading,a=O((0,r.useState)("photo"),2),i=a[0],c=a[1],l=O((0,r.useState)(""),2),s=l[0],u=l[1],d=O((0,r.useState)([]),2),m=d[0],p=d[1],f=O((0,r.useState)([]),2),b=f[0],g=f[1];return o().createElement("div",{className:"shopping-input-container"},o().createElement("div",{className:"search-type-selector"},o().createElement("h5",null,"What are you looking for?"),o().createElement("div",{className:"search-type-buttons"},o().createElement("button",{className:"search-type-btn ".concat("photo"===i?"active":""),onClick:function(){return c("photo")}},"ðŸ“· I have a photo"),o().createElement("button",{className:"search-type-btn ".concat("prompt"===i?"active":""),onClick:function(){return c("prompt")}},"ðŸ’­ I need ideas"),o().createElement("button",{className:"search-type-btn ".concat("both"===i?"active":""),onClick:function(){return c("both")}},"ðŸ” Both"))),("prompt"===i||"both"===i)&&o().createElement("div",{className:"prompt-section"},o().createElement("label",{htmlFor:"shopping-prompt"},"Describe what you need:"),o().createElement("textarea",{id:"shopping-prompt",value:s,onChange:function(n){return u(n.target.value)},placeholder:"I need a gift for my mom who loves gardening... or I want to redecorate my living room... or I'm looking for workout clothes...",rows:3,className:"prompt-input"})),o().createElement("div",{className:"stores-section"},o().createElement("h6",null,"Where do you want to shop?"),o().createElement("p",{className:"stores-hint"},"Select stores or drag website URLs here"),o().createElement("div",{className:"popular-stores"},o().createElement("h7",null,"Popular Stores:"),o().createElement("div",{className:"stores-grid"},[{name:"Amazon",url:"amazon.com",icon:"ðŸ“¦"},{name:"Target",url:"target.com",icon:"ðŸŽ¯"},{name:"Walmart",url:"walmart.com",icon:"ðŸ›’"},{name:"Best Buy",url:"bestbuy.com",icon:"ðŸ”Œ"},{name:"Nordstrom",url:"nordstrom.com",icon:"ðŸ‘—"},{name:"Home Depot",url:"homedepot.com",icon:"ðŸ”¨"},{name:"Wayfair",url:"wayfair.com",icon:"ðŸ "},{name:"Etsy",url:"etsy.com",icon:"ðŸŽ¨"}].map(function(n){return o().createElement("button",{key:n.url,className:"store-btn ".concat(m.find(function(e){return e.url===n.url})?"selected":""),onClick:function(){return function(n){p(function(e){return e.find(function(e){return e.url===n.url})?e.filter(function(e){return e.url!==n.url}):[].concat(P(e),[n])})}(n)}},o().createElement("span",{className:"store-icon"},n.icon),o().createElement("span",{className:"store-name"},n.name))}))),o().createElement("div",{className:"url-drop-zone",onDrop:function(n){n.preventDefault();var e=n.dataTransfer.getData("text/plain");if(e&&e.startsWith("http")){var t=new URL(e).hostname.replace("www.",""),r={name:t.charAt(0).toUpperCase()+t.slice(1),url:t,icon:"ðŸŒ",custom:!0};b.find(function(n){return n.url===t})||g(function(n){return[].concat(P(n),[r])})}},onDragOver:function(n){return n.preventDefault()}},o().createElement("div",{className:"drop-zone-content"},o().createElement("span",{className:"drop-icon"},"ðŸ”—"),o().createElement("p",null,"Drag website URLs here to add custom stores")),b.length>0&&o().createElement("div",{className:"custom-stores"},b.map(function(n){return o().createElement("div",{key:n.url,className:"custom-store-item"},o().createElement("span",{className:"store-icon"},n.icon),o().createElement("span",{className:"store-name"},n.name),o().createElement("button",{className:"remove-store-btn",onClick:function(){return e=n,void g(function(n){return n.filter(function(n){return n.url!==e.url})});var e}},"Ã—"))})))),o().createElement("div",{className:"search-action"},o().createElement("button",{className:"search-btn",onClick:function(){var n=[].concat(P(m),P(b));"prompt"!==i||s.trim()?(n.length,e({type:i,prompt:s,stores:n})):alert("Please enter what you're looking for")},disabled:t},t?"ðŸ” Searching...":"ðŸ›ï¸ Find Products"),(m.length>0||b.length>0)&&o().createElement("p",{className:"selected-count"},"Searching across ",m.length+b.length," store",m.length+b.length!==1?"s":"")))};var T=t(433),_={};function B(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,i,c=[],l=!0,s=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,o=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(n,e)||M(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(n,e){if(n){if("string"==typeof n)return F(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F(n,e):void 0}}function F(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}_.styleTagTransform=h(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=b(),c()(T.A,_),T.A&&T.A.locals&&T.A.locals;const R=function(n){var e=n.results,t=n.isLoading,a=n.onRetry,i=B((0,r.useState)("relevance"),2),c=i[0],l=i[1],s=B((0,r.useState)("all"),2),u=s[0],d=s[1];if(t)return o().createElement("div",{className:"results-loading"},o().createElement("div",{className:"loading-spinner"},o().createElement("div",{className:"spinner"})),o().createElement("h5",null,"ðŸ” Searching across stores..."),o().createElement("p",null,"Finding the best matches and prices for you"));if(!e)return null;if(e.error)return o().createElement("div",{className:"results-error"},o().createElement("div",{className:"error-icon"},"âŒ"),o().createElement("h5",null,"Search Failed"),o().createElement("p",null,e.error),o().createElement("button",{className:"retry-btn",onClick:a},"ðŸ”„ Try Again"));var m,p=e.products,f=void 0===p?[]:p,b=e.search_query,g=e.total_found,h=e.stores_searched,v=function(n){if(Array.isArray(n))return F(n)}(m=new Set(f.map(function(n){return n.store})))||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(m)||M(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=f.filter(function(n){return"all"===u||n.store===u}).sort(function(n,e){switch(c){case"price_low":return parseFloat(n.price.replace(/[^0-9.]/g,""))-parseFloat(e.price.replace(/[^0-9.]/g,""));case"price_high":return parseFloat(e.price.replace(/[^0-9.]/g,""))-parseFloat(n.price.replace(/[^0-9.]/g,""));case"store":return n.store.localeCompare(e.store);default:return e.confidence-n.confidence}});return o().createElement("div",{className:"product-results"},o().createElement("div",{className:"results-header"},o().createElement("div",{className:"results-summary"},o().createElement("h4",null,"ðŸ›ï¸ Search Results"),o().createElement("p",null,"Found ",g," products across ",h," stores"),b&&o().createElement("p",{className:"search-query"},'Searched for: "',b,'"')),o().createElement("div",{className:"results-controls"},o().createElement("div",{className:"sort-controls"},o().createElement("label",{htmlFor:"sort-select"},"Sort by:"),o().createElement("select",{id:"sort-select",value:c,onChange:function(n){return l(n.target.value)}},o().createElement("option",{value:"relevance"},"Best Match"),o().createElement("option",{value:"price_low"},"Price: Low to High"),o().createElement("option",{value:"price_high"},"Price: High to Low"),o().createElement("option",{value:"store"},"Store Name"))),o().createElement("div",{className:"filter-controls"},o().createElement("label",{htmlFor:"store-filter"},"Store:"),o().createElement("select",{id:"store-filter",value:u,onChange:function(n){return d(n.target.value)}},o().createElement("option",{value:"all"},"All Stores"),v.map(function(n){return o().createElement("option",{key:n,value:n},n)}))))),o().createElement("div",{className:"products-grid"},y.map(function(n,e){return o().createElement("div",{key:"".concat(n.store,"-").concat(e),className:"product-card"},o().createElement("div",{className:"product-image"},n.image_url?o().createElement("img",{src:n.image_url,alt:n.name}):o().createElement("div",{className:"no-image"},"ðŸ“¦"),o().createElement("div",{className:"confidence-badge"},Math.round(100*n.confidence),"% match")),o().createElement("div",{className:"product-info"},o().createElement("div",{className:"product-header"},o().createElement("h6",{className:"product-name"},n.name),o().createElement("div",{className:"store-badge"},n.store)),o().createElement("div",{className:"product-price"},o().createElement("span",{className:"current-price"},n.price),n.original_price&&n.original_price!==n.price&&o().createElement("span",{className:"original-price"},n.original_price),n.discount&&o().createElement("span",{className:"discount-badge"},n.discount)),n.rating&&o().createElement("div",{className:"product-rating"},o().createElement("span",{className:"stars"},"â­".repeat(Math.floor(n.rating))),o().createElement("span",{className:"rating-text"},n.rating," (",n.review_count||0," reviews)")),o().createElement("div",{className:"product-details"},n.availability&&o().createElement("span",{className:"availability ".concat(n.availability.toLowerCase().includes("stock")?"in-stock":"out-stock")},n.availability),n.shipping&&o().createElement("span",{className:"shipping"},n.shipping))),o().createElement("div",{className:"product-actions"},o().createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"view-product-btn"},"View on ",n.store),n.buy_now_url&&o().createElement("a",{href:n.buy_now_url,target:"_blank",rel:"noopener noreferrer",className:"buy-now-btn"},"ðŸ›’ Buy Now")))})),0===y.length&&o().createElement("div",{className:"no-results"},o().createElement("div",{className:"no-results-icon"},"ðŸ”"),o().createElement("h5",null,"No products found"),o().createElement("p",null,"Try adjusting your filters or search criteria"),o().createElement("button",{className:"retry-btn",onClick:a},"ðŸ”„ New Search")),o().createElement("div",{className:"results-footer"},o().createElement("button",{className:"new-search-btn",onClick:a},"ðŸ” Start New Search")))};function D(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return L(s,"_invoke",function(t,r,o){var a,c,l,s=0,u=o||[],d=!1,m={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return a=e,c=0,l=n,m.n=t,i}};function p(t,r){for(c=t,l=r,e=0;!d&&s&&!o&&e<u.length;e++){var o,a=u[e],p=m.p,f=a[2];t>3?(o=f===r)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=p&&((o=t<2&&p<a[1])?(c=0,m.v=r,m.n=a[1]):p<f&&(o=t<3||a[0]>r||r>f)&&(a[4]=t,a[5]=r,m.n=f,c=0))}if(o||t>1)return i;throw d=!0,r}return function(o,u,f){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,f),c=u,l=f;(e=c<2?n:l)||!d;){a||(c?c<3?(c>1&&(m.n=-1),p(c,l)):m.n=l:m.v=l);try{if(s=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((e=(d=m.n<0)?l:t.call(r,m))!==i)break}catch(e){a=n,c=1,l=e}finally{s=1}}return{value:e,done:d}}}(t,o,a),!0),s}var i={};function c(){}function l(){}function s(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(L(e={},r,function(){return this}),e),d=s.prototype=c.prototype=Object.create(u);function m(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,L(n,o,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=s,L(d,"constructor",s),L(s,"constructor",l),l.displayName="GeneratorFunction",L(s,o,"GeneratorFunction"),L(d),L(d,o,"Generator"),L(d,r,function(){return this}),L(d,"toString",function(){return"[object Generator]"}),(D=function(){return{w:a,m}})()}function L(n,e,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}L=function(n,e,t,r){function a(e,t){L(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(a("next",0),a("throw",1),a("return",2))},L(n,e,t,r)}function U(n,e,t,r,o,a,i){try{var c=n[a](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,o)}function G(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,i,c=[],l=!0,s=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){s=!0,o=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return H(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var q=function(){var n=G(o().useState(null),2),e=n[0],t=n[1],r=G(o().useState(null),2),a=r[0],i=r[1],c=G(o().useState(!1),2),l=c[0],s=c[1],u=G(o().useState(!0),2),d=u[0],m=u[1],p=function(){var n,t=(n=D().m(function n(t){var r,o,a,c,l,u,d;return D().w(function(n){for(;;)switch(n.p=n.n){case 0:if(r=t.type,o=t.prompt,a=t.stores,"prompt"===r||e){n.n=1;break}return alert("Please upload a photo for visual search"),n.a(2);case 1:return s(!0),i(null),n.p=2,c={search_type:r,user_id:"web-user",stores:a.map(function(n){return{name:n.name,url:n.url}})},!e||"photo"!==r&&"both"!==r||(c.image_base64=e.base64),!o||"prompt"!==r&&"both"!==r||(c.search_prompt=o),n.n=3,fetch("/api/search-products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 3:if((l=n.v).ok){n.n=4;break}throw new Error("Search failed: ".concat(l.statusText));case 4:return n.n=5,l.json();case 5:u=n.v,i(u),n.n=7;break;case 6:n.p=6,d=n.v,console.error("Search error:",d),i({error:d.message});case 7:return n.p=7,s(!1),n.f(7);case 8:return n.a(2)}},n,null,[[2,6,7,8]])}),function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(n){U(a,r,o,i,c,"next",n)}function c(n){U(a,r,o,i,c,"throw",n)}i(void 0)})});return function(n){return t.apply(this,arguments)}}();return o().createElement("div",{className:"quanbuy-app"},d&&o().createElement("div",{className:"app-section"},o().createElement(S,{onPhotoSelect:function(n){t(n)},currentPhoto:e})),o().createElement("div",{className:"app-section"},o().createElement(I,{onSearchRequest:p,isLoading:l})),o().createElement("div",{className:"app-section"},o().createElement(R,{results:a,isLoading:l,onRetry:function(){i(null),t(null),m(!0)}})))};window.QuanBuyComponents={mountApp:function(n){var e=document.getElementById(n);e&&(0,a.H)(e).render(o().createElement(q,null))},mountPhotoUpload:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=document.getElementById(n);t&&(0,a.H)(t).render(o().createElement(S,e))},mountShoppingInput:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=document.getElementById(n);t&&(0,a.H)(t).render(o().createElement(I,e))},mountProductResults:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=document.getElementById(n);t&&(0,a.H)(t).render(o().createElement(R,e))}},document.addEventListener("DOMContentLoaded",function(){document.getElementById("quanbuy-app")&&window.QuanBuyComponents.mountApp("quanbuy-app"),document.getElementById("photo-upload-react")&&window.QuanBuyComponents.mountPhotoUpload("photo-upload-react"),document.getElementById("shopping-input-react")&&window.QuanBuyComponents.mountShoppingInput("shopping-input-react"),document.getElementById("product-results-react")&&window.QuanBuyComponents.mountProductResults("product-results-react")}),window.QuanBuyComponents={}})();